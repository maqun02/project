import{k as A,i as F,r as R,p as U,o as q,a as t,b as c,c as W,e,w as o,d as l,u as d,q as _,t as p,s as j,m as G,g as f,v as H,T as J,x as K,n as O,E as g}from"./index-BxO9RYUF.js";import{u as P}from"./user-Tep1gqvQ.js";import{_ as Q}from"./_plugin-vue_export-helper-xacGa6pw.js";const X={class:"user-actions"},Y={class:"el-dropdown-link"},Z={__name:"MainLayout",setup($){const v=A(),w=F(),u=P(),i=R(localStorage.getItem("darkMode")==="true"),k=U(()=>v.path);function x(r){r?(document.documentElement.classList.add("dark"),localStorage.setItem("darkMode","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode","false"))}function y(r){r==="logout"&&u.logout().then(()=>{g.success("退出登录成功"),w.push("/login")}).catch(()=>{g.error("退出登录失败")})}return q(()=>{i.value&&document.documentElement.classList.add("dark")}),(r,n)=>{const M=t("el-icon-search"),a=t("el-icon"),s=t("el-menu-item"),C=t("el-icon-files"),V=t("el-icon-document"),E=t("el-icon-user"),S=t("el-icon-list"),L=t("el-menu"),B=t("el-switch"),D=t("arrow-down"),I=t("el-dropdown-item"),N=t("el-dropdown-menu"),h=t("el-dropdown"),T=t("el-header"),b=t("router-view"),z=t("el-main");return c(),W("div",{class:O(["main-layout",{dark:i.value}])},[e(T,{class:"main-header"},{default:o(()=>[n[7]||(n[7]=l("div",{class:"logo"},"FWF",-1)),e(L,{"default-active":k.value,mode:"horizontal",router:"",class:"main-menu",ellipsis:!1},{default:o(()=>[e(s,{index:"/fingerprint-recognition"},{default:o(()=>[e(a,null,{default:o(()=>[e(M)]),_:1}),n[1]||(n[1]=l("span",null,"识别指纹",-1))]),_:1}),e(s,{index:"/fingerprint-library"},{default:o(()=>[e(a,null,{default:o(()=>[e(C)]),_:1}),n[2]||(n[2]=l("span",null,"指纹库",-1))]),_:1}),e(s,{index:"/recognition-reports"},{default:o(()=>[e(a,null,{default:o(()=>[e(V)]),_:1}),n[3]||(n[3]=l("span",null,"识别报告",-1))]),_:1}),d(u).isAdmin?(c(),_(s,{key:0,index:"/user-management"},{default:o(()=>[e(a,null,{default:o(()=>[e(E)]),_:1}),n[4]||(n[4]=l("span",null,"用户管理",-1))]),_:1})):p("",!0),d(u).isAdmin?(c(),_(s,{key:1,index:"/system-logs"},{default:o(()=>[e(a,null,{default:o(()=>[e(S)]),_:1}),n[5]||(n[5]=l("span",null,"系统日志",-1))]),_:1})):p("",!0)]),_:1},8,["default-active"]),l("div",X,[e(B,{modelValue:i.value,"onUpdate:modelValue":n[0]||(n[0]=m=>i.value=m),"inline-prompt":"","active-icon":d(G),"inactive-icon":d(j),onChange:x},null,8,["modelValue","active-icon","inactive-icon"]),e(h,{onCommand:y},{dropdown:o(()=>[e(N,null,{default:o(()=>[e(I,{command:"logout"},{default:o(()=>n[6]||(n[6]=[f("退出登录")])),_:1})]),_:1})]),default:o(()=>[l("span",Y,[f(H(d(u).username)+" ",1),e(a,{class:"el-icon--right"},{default:o(()=>[e(D)]),_:1})])]),_:1})])]),_:1}),e(z,{class:"main-content"},{default:o(()=>[e(b,null,{default:o(({Component:m})=>[e(J,{name:"fade",mode:"out-in"},{default:o(()=>[(c(),_(K(m)))]),_:2},1024)]),_:1})]),_:1})],2)}}},te=Q(Z,[["__scopeId","data-v-633caacd"]]);export{te as default};
